import{r as s,o as b,l as _,a as v,c as g,u as y,f as t,b as a,v as u,d as e,t as N,g as w,s as k,i as U}from"./index-40ca6956.js";const x={style:{}},C={key:0},I=e("h2",null,"Form di Registrazione",-1),R=e("br",null,null,-1),S=e("br",null,null,-1),E=e("br",null,null,-1),O=e("br",null,null,-1),B=e("br",null,null,-1),M=e("br",null,null,-1),P={style:{color:"red"}},j={__name:"Register",emits:["register"],setup(T,{emit:f}){const h={}.VITE_API_HOST||"http://localhost:8080",r=s(""),i=s(""),d=s(""),m=s(""),c=s("");s("");let p=s("");b(()=>{_.token=$cookies.isKey("email")});function V(){if(r.value==""||i.value==""||m.value==""||d.value==""||c.value==""){p.value="Inserisci tutti i parametri";return}fetch(h+"/utentis",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({nome:r.value,cognome:i.value,email:d.value,numTelefono:m.value,password:c.value,ruolo:"utente"})}).then(n=>n.json()).then(function(n){if(n.success){k(n),location.reload(),f("register",_);return}else p.value="Email giÃ  in uso"}).catch(n=>console.error(n))}return(n,o)=>(v(),g("form",x,[y(_).token?w("",!0):(v(),g("span",C,[I,t(" Nome "),a(e("input",{name:"nome","onUpdate:modelValue":o[0]||(o[0]=l=>r.value=l),placeholder:"Nome"},null,512),[[u,r.value]]),t(),R,t(" Cognome "),a(e("input",{name:"cognome","onUpdate:modelValue":o[1]||(o[1]=l=>i.value=l),placeholder:"Cognome"},null,512),[[u,i.value]]),t(),S,t(" Numero Telefono "),a(e("input",{name:"numerotelefono","onUpdate:modelValue":o[2]||(o[2]=l=>m.value=l),placeholder:"Numero Telefono"},null,512),[[u,m.value]]),t(),E,t(" Email "),a(e("input",{name:"email","onUpdate:modelValue":o[3]||(o[3]=l=>d.value=l),placeholder:"Inserisci l' email"},null,512),[[u,d.value]]),t(),O,t(" Password "),a(e("input",{name:"password",type:"password","onUpdate:modelValue":o[4]||(o[4]=l=>c.value=l),placeholder:"Insert password"},null,512),[[u,c.value]]),B,e("button",{type:"button",onClick:V},"Register"),M,e("span",P,N(y(p)),1)]))]))}},H={__name:"RegisterView",setup(T){return(f,h)=>(v(),g("div",null,[U(j)]))}};export{H as default};
